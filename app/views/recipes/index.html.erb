<div class="container mt-3 page-container">
  <h2 class="text-center text-my-yellow mb-5">Recipe List</h2>

  <% if @posts.any? %>
    <div class="row gy-4">
      <% @posts.each do |post| %>
        <div class="col-12">
          <div class="border-0 shadow-lg rounded-lg" style="$background-color; position: relative;">
            <a href="<%= recipe_path(post["id"]) %>" class="stretched-link text-decoration-none">
              <div class="position-relative p-2 favorite-card rounded-top-4">
                <% if post["image"].present? %>
                  <img src="<%= post["image"] %>" alt="<%= post["title"] %>" class="card-img-top rounded-4 img-fluid object-fit-cover" style="max-height:25vh" />
                <% else %>
                  <img src="https://via.placeholder.com/400" alt="Recipe image" class="card-img-top rounded-4 img-fluid" style="max-height:30vh" />
                <% end %>
              </div>

              <div class="favorite-body text-center bg-my-dark-blue text-white p-4" style="border-radius: 0 0 15px 15px;">
                <h5 class="card-title text-my-yellow mb-3 d-flex justify-content-center align-items-center gap-2">
                  <span class="text-start"><%= post["title"] %></span>

                </h5>

                <p class="card-text text-center mb-2">
                  <i class="fas fa-utensils"></i> <strong>Used ingredients: <%= post["usedIngredientCount"] %></strong>
                </p>
                <p class="card-text text-center mb-2">
                  <i class="fas fa-exclamation-circle"></i> <strong>Missing ingredients: <%= post["missedIngredientCount"] %></strong>
                </p>

              </div>
            </a>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="text-center mt-5">
      <p class="text-muted">No recipes available yet.</p>
    </div>
  <% end %>
</div>
